<div class="grid p-fluid">
    <div class="col-12">
        <div class="card">
            <ng-container *ngIf="$loading">
                <p-skeleton height="5rem" styleClass="mb-2" />
                <p-skeleton styleClass="mb-2" />
                <p-skeleton height="5rem" styleClass="mb-2" />
                <div class="flex justify-content-evenly mt-3">
                    <p-skeleton styleClass="mb-2" width="15rem" height="2rem" />
                    <p-skeleton styleClass="mb-2" width="15rem" height="2rem" />
                </div>
            </ng-container>

            <ng-container *ngIf="!$loading">
                <div class="flex align-items-center justify-content-center">
                    <div class="col-8">
                        <div class="flex justify-content-center align-items-center mb-5">
                            <div class="col-6">
                                <p-selectButton 
                                    [options]="type_check" 
                                    optionLabel="label" 
                                    optionValue="value"
                                    [(ngModel)]="is_disable"
                                    (ngModelChange)="changeTypeCheck($event)"
                                />
                            </div>
                        </div>
                        <form [formGroup]="$form" (submit)="$submit()">
                            <div class="p-fluid p-formgrid grid">
                                <div class="field col-12 md:col-4">
                                    <label>passport seriasi</label>
                                    <p-inputMask  
                                        (change)="setPerson()" 
                                        mask="(aa) 9999999"
                                        formControlName="series_document" 
                                    >
                                    </p-inputMask>
                                </div>
                                <div class="field col-12 md:col-4">
                                    <label>tug'ilgan sanasi</label>
                                    <p-calendar type="date" dateFormat="dd.mm.yy" formControlName="date_of_birth"
                                        [showIcon]="true" (change)="setPerson()" />
                                </div>
                                <div class="field col-12 md:col-4">
                                    <label>pinfil</label>
                                    <input formControlName="pinfl" pInputText type="text"
                                        class="">
                                </div>
                                <div class="field col-12 md:col-4">
                                    <label>jinsi</label>
                                    <p-dropdown 
                                        [options]="gender" 
                                        formControlName="gender" 
                                        [showClear]="true"
                                    ></p-dropdown>
                                </div>

                                <div class="field col-12 md:col-4">
                                    <label>millati</label>
                                    <input formControlName="nationality" pInputText type="text"
                                        class="">
                                </div>
                                <div class="field col-12 md:col-4">
                                    <label>fullname</label>
                                    <input formControlName="fullname" pInputText type="text"
                                        class="">
                                </div>
                                <div class="field col-12 md:col-4">
                                    <label>manzili</label>
                                    <input formControlName="address" pInputText type="email"
                                        class="">
                                </div>
                                <div class="field col-12 md:col-4">
                                    <label>molile raqam</label>
                                    <p-inputMask 
                                        mask="(99) 999-99-99" 
                                        formControlName="phone" 
                                        class="">
                                    </p-inputMask>
                                </div>
                                <div class="field col-12 md:col-4">
                                    <label>email</label>
                                    <input formControlName="email" pInputText type="email"
                                        class="">
                                </div>
                            </div>
                            <div class="mt-5 flex gap-3">
                                <button type="button" pButton [label]="'qaytish'" class="text-center p-button-secondary"
                                    (click)="$back()"></button>
                                <button pButton [label]="$id ? 'o\'zgartirish' : 'qo\'shish'" class="text-center"
                                    [disabled]="$disableBtn"></button>
                            </div>
                        </form>
                    </div>
                    <div class="col-4">
                        <div class="card flex justify-content-center">
                            <p-image 
                                [src]="imageSrc" 
                                [previewImageSrc]="imageSrc" 
                                alt="Image" 
                                width="250" 
                                [preview]="true" />
                        </div>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>
</div>